subprojects {
    apply plugin: 'idea'
    apply plugin: 'java'

    sourceSets.main.java.srcDir 'src'
}

project(':upmsp') {
    repositories {
        mavenCentral()
    }
    dependencies {
        implementation 'org.apache.commons:commons-math3:3.5'
    }
    jar {
        destinationDir = file("$rootDir")
        manifest {
            attributes 'Main-Class': 'upmsp.Main'
        }
        from {
            configurations.runtimeClasspath.collect {
                it.isDirectory() ? it : zipTree(it)
            }
        }
    }
}
